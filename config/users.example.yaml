# Facility Web Chat — User Configuration
#
# Each user needs:
#   id:          Unique peer ID (used in OpenClaw bindings)
#   name:        Display name shown in chat UI
#   pin:         4-digit PIN (stored as string to preserve leading zeros)
#   mac:         List of allowed MAC addresses (lowercase, colon-separated)
#                Run `arp -a` on the Jetson to find device MACs
#   agent:       OpenClaw agent ID to route this user to
#   role:        admin | parent | child (controls access to audit log & admin panel)
#   passphrase:  (Optional) Required after PIN for parent/admin login.
#                If omitted or empty, PIN alone is sufficient.
#                Only applies to parent/admin roles.
#   macRequired: (Optional, default false) If true, the user's device MAC must
#                match one in the mac list. If false, PIN alone is sufficient
#                regardless of MAC. Manage via the admin panel.
#
# MAC addresses are resolved server-side via ARP lookup.
# Loopback connections (localhost) always skip MAC check — PIN only.
#
# Credentials can be managed at runtime via the admin panel (parent/admin users).
# Changes made in the admin panel are saved back to this file automatically.

users:
  - id: "facility:dad"
    name: "Dad"
    pin: "1234"
    passphrase: "change me"
    macRequired: false
    mac:
      - "aa:bb:cc:dd:ee:01"  # Desktop PC
      - "aa:bb:cc:dd:ee:02"  # Phone
    agent: "admin-agent"
    role: admin

  - id: "facility:mom"
    name: "Mom"
    pin: "5678"
    passphrase: "change me"
    macRequired: false
    mac:
      - "aa:bb:cc:dd:ee:03"  # Laptop
      - "aa:bb:cc:dd:ee:04"  # Phone
    agent: "parent-agent"
    role: parent

  - id: "facility:child1"
    name: "Alex"
    pin: "1111"
    macRequired: false
    mac:
      - "aa:bb:cc:dd:ee:05"  # Tablet
    agent: "child-agent"
    role: child

  - id: "facility:child2"
    name: "Jordan"
    pin: "2222"
    macRequired: false
    mac:
      - "aa:bb:cc:dd:ee:06"  # Tablet
    agent: "child-agent-2"
    role: child
